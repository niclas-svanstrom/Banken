{% extends "basetemplate3.html" %}

{% block title %}
Kundsida {{ customer.Surname }}, {{ customer.GivenName }}
{% endblock %}



{% block content %}
<div class="col-12 grid-margin">
    <div class="card">
        <div class="card-body">
            <div class="row">
                <h2 class="card-title">{{ customer.Surname }}, {{ customer.GivenName }}</h2>
            </div>
            <form class="form-sample">
                <p class="card-description"> Personal info </p>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-3 col-form-label">First Name</label>
                            <div class="col-sm-9">
                                <p class="form-control">
                                    {{customer.GivenName}}</p>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-3 col-form-label">Last Name</label>
                            <div class="col-sm-9">
                                <p class="form-control">
                                    {{ customer.Surname }}</p>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-3 col-form-label">Date of Birth</label>
                            <div class="col-sm-9">
                                <p class="form-control">
                                    {{ customer.Birthday }}</p>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-3 col-form-label">National ID</label>
                            <div class="col-sm-9">
                                <p class="form-control">
                                    {{ customer.NationalId }}</p>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-3 col-form-label">Phone country code</label>
                            <div class="col-sm-9">
                                <p class="form-control">
                                    {{ customer.TelephoneCountryCode }}</p>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-3 col-form-label">Phonenumber</label>
                            <div class="col-sm-9">
                                <p class="form-control">
                                    {{ customer.Telephone }}</p>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-3 col-form-label">Emailaddress</label>
                            <div class="col-sm-9">
                                <p class="form-control">
                                    {{ customer.EmailAddress }}</p>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <p class="card-description"> Address </p>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-3 col-form-label">Address</label>
                            <div class="col-sm-9">
                                <p class="form-control">
                                    {{ customer.Streetaddress }}</p>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-3 col-form-label">City</label>
                            <div class="col-sm-9">
                                <p class="form-control">
                                    {{ customer.City }}</p>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-3 col-form-label">Zipcode</label>
                            <div class="col-sm-9">
                                <p class="form-control">
                                    {{ customer.Zipcode }}</p>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-3 col-form-label">Countrycode</label>
                            <div class="col-sm-9">
                                <p class="form-control">
                                    {{ customer.CountryCode }}</p>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label class="col-sm-3 col-form-label">Country</label>
                            <div class="col-sm-9">
                                <p class="form-control">
                                    {{ customer.Country }}</p>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <a type="button" style="margin-left: auto; margin-right: auto;" href="/editcustomer/{{ customer.Id }}"
                    class="btn btn-success btn-md">Edit Customer</a>
            </form>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-body">
        <div class="row">
            <h4 class="card-title" style="margin-top: 10px;">Accounts:</h4>
            <form action="" method="post" style="margin-left: 400px;">
                <select class="btn btn-outline-success dropdown-toggle" type="button" id="dropdownMenuOutlineButton5"
                    name="account_type" value="{{ request.account_type }}" required onChange="this.form.submit();">
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuOutlineButton5">
                        <option>Add new account</option>
                        <option>Savings</option>
                        <option>Personal</option>
                        <option>Checking</option>
                    </div>
                </select>
            </form>
            {% if error %}

            <body onLoad={{error}}></body>
            {% endif %}
        </div>
        <table class="table">
            <tr>
                <th>
                    Accounts
                </th>
                <th>
                    Balance
                </th>
            </tr>
            {% for a in accounts %}
            <tr>
                <td>
                    <a href="/customer/{{ customer.Id }}/{{a.Id}}" class="btn">{{ a.AccountType }}</a>
                </td>
                <td>
                    {{ a.Balance }}
                </td>
                <td>
                    {% if account_count > 1 %}
                    <div class="dropdown">
                        <button class="btn btn-outline-success dropdown-toggle" type="button"
                            id="dropdownMenuOutlineButton5" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false"> Options </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuOutlineButton5">
                            <h6 class="dropdown-header">Accounts</h6>
                            <a class="dropdown-item" href="/customer/{{customer.Id}}/{{a.Id}}/debit">Debit</a>
                            <a class="dropdown-item" href="/customer/{{customer.Id}}/{{a.Id}}/credit">Credit</a>
                            <a class="dropdown-item" href="/customer/{{customer.Id}}/{{a.Id}}/transfer">Transfer</a>
                        </div>
                    </div>
                    {% elif account_count == 1 %}
                    <div class="dropdown">
                        <button class="btn btn-outline-success dropdown-toggle" type="button"
                            id="dropdownMenuOutlineButton5" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false"> Options </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuOutlineButton5">
                            <h6 class="dropdown-header">Accounts</h6>
                            <a class="dropdown-item" href="/customer/{{customer.Id}}/{{a.Id}}/debit">Debit</a>
                            <a class="dropdown-item" href="/customer/{{customer.Id}}/{{a.Id}}/credit">Credit</a>
                        </div>
                    </div>
                    {% endif %}
                </td>
                <td>
                    <form action="" method="POST">
                        <input type="hidden" name="account_id" value="{{ a.Id }}" />
                        <button class="btn btn-danger btn-md" type="submit" value="submit">Delete
                            Account</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </table>

    </div>
</div>

{% endblock %}